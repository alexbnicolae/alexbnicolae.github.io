{"ast":null,"code":"var _jsxFileName = \"E:\\\\Projects\\\\SocialInsiderTask\\\\SocialInsiderTask\\\\client\\\\src\\\\App.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\nimport './App.css';\nimport React, { useState, useEffect } from \"react\";\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { Route, Routes, useParams } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Link() {\n  //Cream rute\n  return /*#__PURE__*/_jsxDEV(Routes, {\n    children: [/*#__PURE__*/_jsxDEV(Route, {\n      path: \"/\",\n      element: /*#__PURE__*/_jsxDEV(App, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 16,\n        columnNumber: 36\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/calc_sum_fans/:id\",\n      element: /*#__PURE__*/_jsxDEV(Fans, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 53\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/calc_sum_eng/:id\",\n      element: /*#__PURE__*/_jsxDEV(Eng, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 52\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 7\n  }, this);\n} //Elementul pentru ruta in care calculam numarul total de engagements\n\n_c = Link;\n\nfunction Eng() {\n  _s();\n\n  let {\n    id\n  } = useParams(); //Imaprtim parametrul Id pentru a ne lua informatiile necesare\n\n  var splitID = id.split(\".\");\n  var pId = splitID[0];\n  var startDate = splitID[2];\n  var endDate = splitID[3]; // Convertim data de start si data de sfarsit in zile-luna-an\n\n  var sDate = new Date(Number(startDate));\n  var stDate = `${sDate.getDate()}-${sDate.getMonth() + 1}-${sDate.getFullYear()}`;\n  var eDate = new Date(Number(endDate));\n  var enDate = `${eDate.getDate()}-${eDate.getMonth() + 1}-${eDate.getFullYear()}`; //useEffect pentru a fetch-ui informatiile din Profile data\n\n  const [data, setData] = useState([]);\n  useEffect(() => {\n    var url = `https://socialinsidertask.herokuapp.com/profile_data/${id}`;\n    fetch(url).then(res => res.json()).then(data => {\n      setData(data.resp);\n    });\n  }, [id]);\n  console.log(data); //Functia e calcul pentru suma de Engagements\n\n  function calcSum(data) {\n    if (data === undefined) return 'Cannot be computed';\n    var myId = data[pId];\n    var s = 0;\n\n    if (data) {\n      for (const c in myId) {\n        if (myId[c].engagement) s = s + myId[c].engagement;\n      }\n    }\n\n    return s;\n  } //Html-ul returnat\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App-header\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"The Total Number of Engagements between:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"sDate\",\n          children: [\" \", stDate]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \" and \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"sDate\",\n          children: enDate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \" is \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"sDate\",\n          children: calcSum(data)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), \".\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n} //Elementul pentru ruta in care calculam numarul total de fans\n\n\n_s(Eng, \"UhomshOV9W71tV6oDigzXv4ZBEM=\", false, function () {\n  return [useParams];\n});\n\n_c2 = Eng;\n\nfunction Fans() {\n  _s2();\n\n  let {\n    id\n  } = useParams(); //Imaprtim parametrul Id pentru a ne lua informatiile necesare\n\n  var splitID = id.split(\".\");\n  var pId = splitID[0];\n  var startDate = splitID[2];\n  var endDate = splitID[3]; // Convertim data de start si data de sfarsit in zile-luna-an\n\n  var sDate = new Date(Number(startDate));\n  var stDate = `${sDate.getDate()}-${sDate.getMonth() + 1}-${sDate.getFullYear()}`;\n  var eDate = new Date(Number(endDate));\n  var enDate = `${eDate.getDate()}-${eDate.getMonth() + 1}-${eDate.getFullYear()}`; //useEffect pentru a fetch-ui informatiile din Profile data\n\n  const [data, setData] = useState([]);\n  useEffect(() => {\n    var url = `https://socialinsidertask.herokuapp.com/profile_data/${id}`;\n    fetch(url).then(res => res.json()).then(data => {\n      setData(data.resp);\n    });\n  }, [id]);\n  console.log(data); //Functia e calcul pentru suma de Fans\n\n  function calcSum(data) {\n    if (data === undefined) return 'Cannot be computed';\n    var myId = data[pId];\n    var s = 0;\n\n    if (data) {\n      for (const c in myId) {\n        if (myId[c].fans) s = s + myId[c].fans;\n      }\n    }\n\n    return s;\n  } //Html-ul returnat\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App-header\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"The Total Number of Fans between:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"sDate\",\n          children: [\" \", stDate]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \" and \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"sDate\",\n          children: enDate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \" is \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"sDate\",\n          children: calcSum(data)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this), \".\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 136,\n    columnNumber: 5\n  }, this);\n} //Elementrul pentru pagina principala\n\n\n_s2(Fans, \"UhomshOV9W71tV6oDigzXv4ZBEM=\", false, function () {\n  return [useParams];\n});\n\n_c3 = Fans;\n\nfunction App() {\n  _s3();\n\n  const [data, setData] = useState([]);\n  const [startDate, setStartDate] = useState(null);\n  const [endtDate, setEndDate] = useState(null); //Fetch-uim brand-urile\n\n  useEffect(() => {\n    fetch(\"https://socialinsidertask.herokuapp.com/brands\").then(res => res.json()).then(data => {\n      setData(data.result);\n    });\n  }, []);\n  console.log(data); //Mapam brand-urile pentru a le fisa in tabel impreuna cu Id-ul acestora\n\n  var brandName = data.map((obj, i) => {\n    //Verificari\n    if (data.error != null) {\n      console.log(data.error);\n      return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n    } else {\n      //Profilele din data e un vector de obiecte pe care il parcurgem\n      return obj.profiles.map((pObj, j) => {\n        // Verificari pentru data de start si de sfarsit \n        if (startDate != null && endtDate != null) {\n          //Cream link-urile care ne trimit la calcule\n          const urlSumFans = `/calc_sum_fans/${pObj.id}.${pObj.profile_type}.${startDate.getTime()}.${endtDate.getTime()}`;\n          const urlSumEng = `/calc_sum_eng/${pObj.id}.${pObj.profile_type}.${startDate.getTime()}.${endtDate.getTime()}`; //returnam tabelul\n\n          return /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: obj.brandname\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: pObj.id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                target: \"_blank\",\n                rel: \"noopener noreferrer\",\n                href: urlSumFans,\n                children: \"Find out\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                target: \"_blank\",\n                rel: \"noopener noreferrer\",\n                href: urlSumEng,\n                children: \"Find out\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 15\n          }, this);\n        } else return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n      });\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"App-header\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"edit\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Start Date: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(DatePicker, {\n              className: \"sizeDatePicker\",\n              dateFormat: \"dd-MM-yyyy\",\n              selected: startDate,\n              onChange: date => setStartDate(date),\n              isClearable: true,\n              showYearDropdown: true,\n              scrollableMonthYearDropdown: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"edit\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"End Date: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(DatePicker, {\n              className: \"sizeDatePicker\",\n              dateFormat: \"dd-MM-yyyy\",\n              selected: endtDate,\n              onChange: date => setEndDate(date),\n              isClearable: true,\n              showYearDropdown: true,\n              scrollableMonthYearDropdown: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"table\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Brand Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 241,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"ID Profile\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 242,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Total Fans\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Total Engagement\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 244,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: brandName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 206,\n    columnNumber: 5\n  }, this);\n}\n\n_s3(App, \"WW+yThDO2/tm//lQz5U6I5TzCDQ=\");\n\n_c4 = App;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"Link\");\n$RefreshReg$(_c2, \"Eng\");\n$RefreshReg$(_c3, \"Fans\");\n$RefreshReg$(_c4, \"App\");","map":{"version":3,"sources":["E:/Projects/SocialInsiderTask/SocialInsiderTask/client/src/App.js"],"names":["React","useState","useEffect","DatePicker","Route","Routes","useParams","Link","Eng","id","splitID","split","pId","startDate","endDate","sDate","Date","Number","stDate","getDate","getMonth","getFullYear","eDate","enDate","data","setData","url","fetch","then","res","json","resp","console","log","calcSum","undefined","myId","s","c","engagement","Fans","fans","App","setStartDate","endtDate","setEndDate","result","brandName","map","obj","i","error","profiles","pObj","j","urlSumFans","profile_type","getTime","urlSumEng","brandname","date"],"mappings":"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","sourcesContent":["import './App.css';\nimport React, { useState, useEffect } from \"react\";\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { \n  Route,\n  Routes,\n  useParams,\n } from 'react-router-dom';\n\n\nexport default function Link() {\n  //Cream rute\n  return (\n      <Routes>\n          <Route path=\"/\" element={<App />} />\n          <Route path=\"/calc_sum_fans/:id\" element={<Fans />} />\n          <Route path=\"/calc_sum_eng/:id\" element={<Eng />} />\n      </Routes>\n  )\n}\n\n//Elementul pentru ruta in care calculam numarul total de engagements\nfunction Eng()\n{\n  let {id} = useParams()\n\n  //Imaprtim parametrul Id pentru a ne lua informatiile necesare\n  var splitID = id.split(\".\")\n  var pId = splitID[0]\n  var startDate = splitID[2]\n  var endDate = splitID[3]\n\n  // Convertim data de start si data de sfarsit in zile-luna-an\n  var sDate = new Date(Number(startDate))\n  var stDate = `${sDate.getDate()}-${sDate.getMonth()+1}-${sDate.getFullYear()}`\n  var eDate = new Date(Number(endDate))\n  var enDate = `${eDate.getDate()}-${eDate.getMonth()+1}-${eDate.getFullYear()}`\n\n  //useEffect pentru a fetch-ui informatiile din Profile data\n  const [data, setData] = useState([])\n  useEffect(() => {\n      var url = `https://socialinsidertask.herokuapp.com/profile_data/${id}`\n      fetch(url)\n      .then((res) => res.json())\n      .then((data) => {\n        setData(data.resp)\n      })\n  }, [id])\n\n  console.log(data)\n\n  //Functia e calcul pentru suma de Engagements\n  function calcSum(data) {\n    if(data === undefined)\n      return 'Cannot be computed'\n    var myId = data[pId]\n    var s = 0\n    if(data) {\n      \n      for(const c in myId)\n      {\n        if(myId[c].engagement)\n          s = s + myId[c].engagement\n      }\n    }\n    return s\n  }\n\n  //Html-ul returnat\n  return (\n    <div className=\"App\">\n      <div className=\"App-header\">\n      < div>\n          <span>The Total Number of Engagements between:</span>\n          <span className='sDate'> {stDate}</span>\n          <span> and </span>\n          <span className='sDate'>{enDate}</span>\n          <span> is </span>\n          <span className='sDate'>{calcSum(data)}</span>.\n        </div>\n      </div>\n    </div>\n  )\n}\n\n//Elementul pentru ruta in care calculam numarul total de fans\nfunction Fans()\n{\n  let {id} = useParams()\n\n  //Imaprtim parametrul Id pentru a ne lua informatiile necesare\n  var splitID = id.split(\".\")\n  var pId = splitID[0]\n  var startDate = splitID[2]\n  var endDate = splitID[3]\n\n  // Convertim data de start si data de sfarsit in zile-luna-an\n  var sDate = new Date(Number(startDate))\n  var stDate = `${sDate.getDate()}-${sDate.getMonth()+1}-${sDate.getFullYear()}`\n  var eDate = new Date(Number(endDate))\n  var enDate = `${eDate.getDate()}-${eDate.getMonth()+1}-${eDate.getFullYear()}`\n\n  //useEffect pentru a fetch-ui informatiile din Profile data\n  const [data, setData] = useState([])\n  useEffect(() => {\n      var url = `https://socialinsidertask.herokuapp.com/profile_data/${id}`\n      fetch(url)\n      .then((res) => res.json())\n      .then((data) => {\n        setData(data.resp)\n      })\n  }, [id])\n\n  console.log(data)\n  \n  //Functia e calcul pentru suma de Fans\n  function calcSum(data) {\n    if(data === undefined)\n      return 'Cannot be computed'\n    var myId = data[pId]\n    var s = 0\n    if(data) {\n      \n      for(const c in myId)\n      {\n        if(myId[c].fans)\n          s = s + myId[c].fans\n      }\n    }\n    return s\n  }\n\n  //Html-ul returnat\n  return (\n    <div className=\"App\">\n      <div className=\"App-header\">\n      < div>\n          <span>The Total Number of Fans between:</span>\n          <span className='sDate'> {stDate}</span>\n          <span> and </span>\n          <span className='sDate'>{enDate}</span>\n          <span> is </span>\n          <span className='sDate'>{calcSum(data)}</span>.\n        </div>\n      </div>\n    </div>\n  )\n}\n\n//Elementrul pentru pagina principala\nfunction App() {\n  const [data, setData] = useState([])\n  const [startDate, setStartDate] = useState(null);\n  const [endtDate, setEndDate] = useState(null);\n\n  //Fetch-uim brand-urile\n  useEffect(() => {\n    fetch(\"https://socialinsidertask.herokuapp.com/brands\")\n    .then((res) => res.json())\n    .then((data) => {\n      setData(data.result)\n    })\n  }, [])\n  \n  console.log(data)\n\n    //Mapam brand-urile pentru a le fisa in tabel impreuna cu Id-ul acestora\n    var brandName = data.map((obj, i) => {\n      //Verificari\n      if(data.error != null)\n      {\n        console.log(data.error)\n        return <></>\n      }\n      else {\n        //Profilele din data e un vector de obiecte pe care il parcurgem\n        return obj.profiles.map((pObj, j) => { \n          // Verificari pentru data de start si de sfarsit \n          if(startDate != null && endtDate!=null)\n          {\n            //Cream link-urile care ne trimit la calcule\n            const urlSumFans = `/calc_sum_fans/${pObj.id}.${pObj.profile_type}.${startDate.getTime()}.${endtDate.getTime()}`\n            const urlSumEng = `/calc_sum_eng/${pObj.id}.${pObj.profile_type}.${startDate.getTime()}.${endtDate.getTime()}`\n            \n            //returnam tabelul\n            return (\n              <tr>\n                {/* Numele brand-ului */}\n                <td>{obj.brandname}</td>\n                {/* Id-ul */}\n                <td>{pObj.id}</td>\n                {/* Link-ul care ne trimite catre numarul total de fans */}\n                <td><a target=\"_blank\" rel=\"noopener noreferrer\" href={urlSumFans}>Find out</a></td>\n                {/* Link-ul care ne trimite catre numarul total de engagements */}\n                <td><a target=\"_blank\" rel=\"noopener noreferrer\" href={urlSumEng}>Find out</a></td>\n              </tr>\n            )\n          }\n          else\n            return <></>\n        })   \n      }\n    })\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        {/* <img src={logo} className=\"App-logo\" alt=\"logo\" /> */}\n        <div>\n          <div>\n            {/* Date-pick-urile */}\n            <div className='edit'>\n              <span>Start Date: </span>\n              <DatePicker \n                className='sizeDatePicker' \n                dateFormat='dd-MM-yyyy'\n                selected={startDate} \n                onChange={(date) => setStartDate(date)} \n                isClearable\n                showYearDropdown\n                scrollableMonthYearDropdown\n              />\n            </div>\n\n            <div className='edit'>\n            <span>End Date: </span>\n              <DatePicker \n                className='sizeDatePicker' \n                dateFormat='dd-MM-yyyy'\n                selected={endtDate} \n                onChange={(date) => setEndDate(date)} \n                isClearable\n                showYearDropdown\n                scrollableMonthYearDropdown\n              />\n            </div>\n            <table className='table'>\n              <thead>\n                <tr>\n                  {/* Head-urile tabelului */}\n                  <th>Brand Name</th>\n                  <th>ID Profile</th>\n                  <th>Total Fans</th>\n                  <th>Total Engagement</th>\n                </tr>\n              </thead>\n              <tbody>\n                {/* Apelarea functiei care ne returneaza tabelul */}\n                {brandName}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </header>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}